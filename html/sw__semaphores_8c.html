<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>sw_semaphores.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6aeebb853ebd8c514e6186653c592c82.html">otzone</a></li><li class="navelem"><a class="el" href="dir_fb44076c8b62c63869cf8a830933e50d.html">src</a></li><li class="navelem"><a class="el" href="dir_2d945ebfca6299adda500e2943a81344.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sw_semaphores.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="elf__loader_8h_source.html">elf_loader.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="unused_8h_source.html">unused.h</a>&gt;</code><br/>
</div>
<p><a href="sw__semaphores_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a04367a7c0265aaf39c91f5490d227118"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#a04367a7c0265aaf39c91f5490d227118">sw_mutex_init</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex, const <a class="el" href="sw__semaphores_8h.html#a2244ed712da6ca027f76cb840045e5e4">sw_mutexattr_t</a> *attribute)</td></tr>
<tr class="memdesc:a04367a7c0265aaf39c91f5490d227118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes mutex parameters.  <a href="#a04367a7c0265aaf39c91f5490d227118">More...</a><br/></td></tr>
<tr class="separator:a04367a7c0265aaf39c91f5490d227118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a479d153ccca1ece612debff0558eba9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#a479d153ccca1ece612debff0558eba9e">sw_mutex_destroy</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex)</td></tr>
<tr class="memdesc:a479d153ccca1ece612debff0558eba9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to destroy the mutex once it is used If it is under lock it returns an error code init param is reinitialized to zero.  <a href="#a479d153ccca1ece612debff0558eba9e">More...</a><br/></td></tr>
<tr class="separator:a479d153ccca1ece612debff0558eba9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c805367bdb75f13ac44f080f72e66e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#ac3c805367bdb75f13ac44f080f72e66e">sw_mutex_lock</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex)</td></tr>
<tr class="memdesc:ac3c805367bdb75f13ac44f080f72e66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to lock the specified mutex.  <a href="#ac3c805367bdb75f13ac44f080f72e66e">More...</a><br/></td></tr>
<tr class="separator:ac3c805367bdb75f13ac44f080f72e66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeefcfc412a9f865e40d54deb6c73497"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#adeefcfc412a9f865e40d54deb6c73497">EXPORT_SYMBOL</a> (<a class="el" href="sw__semaphores_8c.html#ac3c805367bdb75f13ac44f080f72e66e">sw_mutex_lock</a>)</td></tr>
<tr class="separator:adeefcfc412a9f865e40d54deb6c73497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b5c19a5ccbbdbe4eed5e7520c5cb84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#af4b5c19a5ccbbdbe4eed5e7520c5cb84">sw_mutex_unlock</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex)</td></tr>
<tr class="memdesc:af4b5c19a5ccbbdbe4eed5e7520c5cb84"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to unlock a mutex.  <a href="#af4b5c19a5ccbbdbe4eed5e7520c5cb84">More...</a><br/></td></tr>
<tr class="separator:af4b5c19a5ccbbdbe4eed5e7520c5cb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e24656e1094ca7bb500aac058c5dad3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#a4e24656e1094ca7bb500aac058c5dad3">EXPORT_SYMBOL</a> (<a class="el" href="sw__semaphores_8c.html#af4b5c19a5ccbbdbe4eed5e7520c5cb84">sw_mutex_unlock</a>)</td></tr>
<tr class="separator:a4e24656e1094ca7bb500aac058c5dad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f84b60f4d379ab88cc1091a63cf2ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#af9f84b60f4d379ab88cc1091a63cf2ae">sw_mutex_trylock</a> (<a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex)</td></tr>
<tr class="memdesc:af9f84b60f4d379ab88cc1091a63cf2ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as sw_mutex_lock but it does not block the calling function It returns an error code if the mutex is already locked.  <a href="#af9f84b60f4d379ab88cc1091a63cf2ae">More...</a><br/></td></tr>
<tr class="separator:af9f84b60f4d379ab88cc1091a63cf2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f60dd0c2b2d6c171e554a510caa857d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#a6f60dd0c2b2d6c171e554a510caa857d">EXPORT_SYMBOL</a> (<a class="el" href="sw__semaphores_8c.html#af9f84b60f4d379ab88cc1091a63cf2ae">sw_mutex_trylock</a>)</td></tr>
<tr class="separator:a6f60dd0c2b2d6c171e554a510caa857d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39487bfce93fff0c3557bb104ef9f7ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#a39487bfce93fff0c3557bb104ef9f7ef">sw_sem_init</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem, <a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> shared, <a class="el" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> value)</td></tr>
<tr class="memdesc:a39487bfce93fff0c3557bb104ef9f7ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semaphore initialization Following successful call, other semaphore operations can be performed until semaphore is destroyed.  <a href="#a39487bfce93fff0c3557bb104ef9f7ef">More...</a><br/></td></tr>
<tr class="separator:a39487bfce93fff0c3557bb104ef9f7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc191367c06f2cff2957f3a69102514"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#a8dc191367c06f2cff2957f3a69102514">sw_sem_wait</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem)</td></tr>
<tr class="memdesc:a8dc191367c06f2cff2957f3a69102514"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks the semaphore referenced by sem It will return to the calling thread only after locking the semaphore or if the call is interrupted by a signal.  <a href="#a8dc191367c06f2cff2957f3a69102514">More...</a><br/></td></tr>
<tr class="separator:a8dc191367c06f2cff2957f3a69102514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa074bb6e5b06c3ff897483709ec2b787"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#aa074bb6e5b06c3ff897483709ec2b787">sw_sem_post</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem)</td></tr>
<tr class="memdesc:aa074bb6e5b06c3ff897483709ec2b787"><td class="mdescLeft">&#160;</td><td class="mdescRight">unlocks the semaphore referenced by sem by performing a unlock operation on that semaphore  <a href="#aa074bb6e5b06c3ff897483709ec2b787">More...</a><br/></td></tr>
<tr class="separator:aa074bb6e5b06c3ff897483709ec2b787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667bf1dc62225b5affc82815da70adc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#a667bf1dc62225b5affc82815da70adc6">sw_sem_destroy</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem)</td></tr>
<tr class="memdesc:a667bf1dc62225b5affc82815da70adc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the semaphore indicated by sem.  <a href="#a667bf1dc62225b5affc82815da70adc6">More...</a><br/></td></tr>
<tr class="separator:a667bf1dc62225b5affc82815da70adc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c76bedb76df6742a511442f9da97f30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__semaphores_8c.html#a1c76bedb76df6742a511442f9da97f30">sw_sem_getvalue</a> (<a class="el" href="structsw__sem__t.html">sw_sem_t</a> *sem, <a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *value)</td></tr>
<tr class="memdesc:a1c76bedb76df6742a511442f9da97f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to get the semaphore value.  <a href="#a1c76bedb76df6742a511442f9da97f30">More...</a><br/></td></tr>
<tr class="separator:a1c76bedb76df6742a511442f9da97f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="adeefcfc412a9f865e40d54deb6c73497"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sw__semaphores_8c.html#ac3c805367bdb75f13ac44f080f72e66e">sw_mutex_lock</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4e24656e1094ca7bb500aac058c5dad3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sw__semaphores_8c.html#af4b5c19a5ccbbdbe4eed5e7520c5cb84">sw_mutex_unlock</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6f60dd0c2b2d6c171e554a510caa857d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sw__semaphores_8c.html#af9f84b60f4d379ab88cc1091a63cf2ae">sw_mutex_trylock</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a479d153ccca1ece612debff0558eba9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to destroy the mutex once it is used If it is under lock it returns an error code init param is reinitialized to zero. </p>
<p>this function destroys the mutex object. Attempting to destroy a mutex that has already been destroyed has no effect. Attempting to destroy a locked mutex fails.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00109">109</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span>(mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span>(mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a> != <a class="code" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a>) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> = <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a0705f3dd185c7552643d461b8c27da14"><div class="ttname"><a href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">sw_mutex_t::lock_param</a></div><div class="ttdeci">volatile u32 lock_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00087">sw_semaphores.h:87</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_abf435ec0b9f3b6e7ae76d9079bfe6084"><div class="ttname"><a href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a></div><div class="ttdeci">#define OTZ_FREE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00033">sw_semaphores.h:33</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a6c0e563741b69e50f8cd2003597f0259"><div class="ttname"><a href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">sw_mutex_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00086">sw_semaphores.h:86</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00036">sw_semaphores.h:36</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a3fd16a0b061bbb0bcbf50ad714050142"><div class="ttname"><a href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a></div><div class="ttdeci">#define OTZ_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00040">sw_semaphores.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04367a7c0265aaf39c91f5490d227118"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="sw__semaphores_8h.html#a2244ed712da6ca027f76cb840045e5e4">sw_mutexattr_t</a> *&#160;</td>
          <td class="paramname"><em>attribute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes mutex parameters. </p>
<p>dymanic initialization of the mutex. The attribute parameter is kept for consistency and is not used. Attempting to re-initialize a mutex will reset it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
    <tr><td class="paramname">attribute</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00090">90</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span>(mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a> = <a class="code" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> = <a class="code" href="sw__semaphores_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="unused_8h.html#a6bc306171da085f4c7df2c66d2ff8e47">UNUSED</a>(attribute);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="ttc" id="unused_8h_html_a6bc306171da085f4c7df2c66d2ff8e47"><div class="ttname"><a href="unused_8h.html#a6bc306171da085f4c7df2c66d2ff8e47">UNUSED</a></div><div class="ttdeci">#define UNUSED(X)</div><div class="ttdef"><b>Definition:</b> <a href="unused_8h_source.html#l00004">unused.h:4</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a0705f3dd185c7552643d461b8c27da14"><div class="ttname"><a href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">sw_mutex_t::lock_param</a></div><div class="ttdeci">volatile u32 lock_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00087">sw_semaphores.h:87</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_abf435ec0b9f3b6e7ae76d9079bfe6084"><div class="ttname"><a href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a></div><div class="ttdeci">#define OTZ_FREE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00033">sw_semaphores.h:33</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a6c0e563741b69e50f8cd2003597f0259"><div class="ttname"><a href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">sw_mutex_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00086">sw_semaphores.h:86</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="sw__semaphores_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00035">sw_semaphores.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3c805367bdb75f13ac44f080f72e66e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to lock the specified mutex. </p>
<p>this function locks the mutex object referenced. If the mutex is already locked, it blocks till it becomes available. Once it is available, it is locked. No deadlock detection is provided.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00128">128</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span>((mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    sw_get_spinlock((<span class="keywordtype">void</span>*)&amp;(mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a>));</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a0705f3dd185c7552643d461b8c27da14"><div class="ttname"><a href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">sw_mutex_t::lock_param</a></div><div class="ttdeci">volatile u32 lock_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00087">sw_semaphores.h:87</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a6c0e563741b69e50f8cd2003597f0259"><div class="ttname"><a href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">sw_mutex_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00086">sw_semaphores.h:86</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00036">sw_semaphores.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af9f84b60f4d379ab88cc1091a63cf2ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_trylock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same as sw_mutex_lock but it does not block the calling function It returns an error code if the mutex is already locked. </p>
<p>Try to lock the mutex. This function is same as the lock function, except that it returns if the mutex cannot be locked.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00161">161</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span>((mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span>(sw_get_trylock((<span class="keywordtype">void</span>*)&amp;(mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a>)) != <a class="code" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a>) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a0705f3dd185c7552643d461b8c27da14"><div class="ttname"><a href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">sw_mutex_t::lock_param</a></div><div class="ttdeci">volatile u32 lock_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00087">sw_semaphores.h:87</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_abf435ec0b9f3b6e7ae76d9079bfe6084"><div class="ttname"><a href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">OTZ_FREE</a></div><div class="ttdeci">#define OTZ_FREE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00033">sw_semaphores.h:33</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a6c0e563741b69e50f8cd2003597f0259"><div class="ttname"><a href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">sw_mutex_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00086">sw_semaphores.h:86</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00036">sw_semaphores.h:36</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a3fd16a0b061bbb0bcbf50ad714050142"><div class="ttname"><a href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a></div><div class="ttdeci">#define OTZ_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00040">sw_semaphores.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4b5c19a5ccbbdbe4eed5e7520c5cb84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_mutex_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__mutex__t.html">sw_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to unlock a mutex. </p>
<p>this function unlocks the mutex object referenced. Attempts to unlock a mutex that is already locked has no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00145">145</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span>((mutex == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (mutex-&gt;<a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    sw_release_spinlock((<span class="keywordtype">void</span>*)&amp;(mutex-&gt;<a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a>));</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a0705f3dd185c7552643d461b8c27da14"><div class="ttname"><a href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">sw_mutex_t::lock_param</a></div><div class="ttdeci">volatile u32 lock_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00087">sw_semaphores.h:87</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a6c0e563741b69e50f8cd2003597f0259"><div class="ttname"><a href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">sw_mutex_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00086">sw_semaphores.h:86</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00036">sw_semaphores.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a667bf1dc62225b5affc82815da70adc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the semaphore indicated by sem. </p>
<p>Delete the semaphore pointed to by sem variable The semaphore cannot be used after deletion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00241">241</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span>(sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span>((<span class="keywordtype">int</span>)sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a> &lt; 0) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a> = 0;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> = <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="ttc" id="structsw__sem__t_html_a1586e3c6a4030dcf5e75a4a53c4576ff"><div class="ttname"><a href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">sw_sem_t::counter_param</a></div><div class="ttdeci">volatile u32 counter_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00163">sw_semaphores.h:163</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00036">sw_semaphores.h:36</a></div></div>
<div class="ttc" id="structsw__sem__t_html_aaea7607e4429b4c085c76561fb2e0b62"><div class="ttname"><a href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">sw_sem_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00162">sw_semaphores.h:162</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a3fd16a0b061bbb0bcbf50ad714050142"><div class="ttname"><a href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">OTZ_BUSY</a></div><div class="ttdeci">#define OTZ_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00040">sw_semaphores.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c76bedb76df6742a511442f9da97f30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_getvalue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to get the semaphore value. </p>
<p>Get the current value of the semaphore. It is copied into the argument supplied by the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00262">262</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span>((sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (value == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    *value = sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="ttc" id="structsw__sem__t_html_a1586e3c6a4030dcf5e75a4a53c4576ff"><div class="ttname"><a href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">sw_sem_t::counter_param</a></div><div class="ttdeci">volatile u32 counter_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00163">sw_semaphores.h:163</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="structsw__sem__t_html_aaea7607e4429b4c085c76561fb2e0b62"><div class="ttname"><a href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">sw_sem_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00162">sw_semaphores.h:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39487bfce93fff0c3557bb104ef9f7ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>&#160;</td>
          <td class="paramname"><em>shared</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Semaphore initialization Following successful call, other semaphore operations can be performed until semaphore is destroyed. </p>
<p>This function initializes the semaphore, and sets is counters to the value passed to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
    <tr><td class="paramname">shared</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00182">182</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span>(sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> = <a class="code" href="sw__semaphores_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a> = value;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="unused_8h.html#a6bc306171da085f4c7df2c66d2ff8e47">UNUSED</a>(shared);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
<div class="ttc" id="structsw__sem__t_html_a1586e3c6a4030dcf5e75a4a53c4576ff"><div class="ttname"><a href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">sw_sem_t::counter_param</a></div><div class="ttdeci">volatile u32 counter_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00163">sw_semaphores.h:163</a></div></div>
<div class="ttc" id="unused_8h_html_a6bc306171da085f4c7df2c66d2ff8e47"><div class="ttname"><a href="unused_8h.html#a6bc306171da085f4c7df2c66d2ff8e47">UNUSED</a></div><div class="ttdeci">#define UNUSED(X)</div><div class="ttdef"><b>Definition:</b> <a href="unused_8h_source.html#l00004">unused.h:4</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="sw__semaphores_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00035">sw_semaphores.h:35</a></div></div>
<div class="ttc" id="structsw__sem__t_html_aaea7607e4429b4c085c76561fb2e0b62"><div class="ttname"><a href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">sw_sem_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00162">sw_semaphores.h:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa074bb6e5b06c3ff897483709ec2b787"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_post </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>unlocks the semaphore referenced by sem by performing a unlock operation on that semaphore </p>
<p>This function unlocks the semaphore referenced by sem. The value is incremented atomically. If there are any threads waiting on this semaphore, only one of them would be released from sem_wait.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00222">222</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span>((sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">/*__memory_changed();</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    OTZ_WRITE_MEMORY_BARRIER */</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="cpu_8c.html#aed669a97cf4695bb71f9d24330065976">data_sync_barrier</a>();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="sw__semaphores_8h.html#acc6f251f28afebcb1f64419df7c92d40">sw_sem_post_s</a>((<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>*)&amp;(sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a>));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div>
<div class="ttc" id="cpu_8c_html_aed669a97cf4695bb71f9d24330065976"><div class="ttname"><a href="cpu_8c.html#aed669a97cf4695bb71f9d24330065976">data_sync_barrier</a></div><div class="ttdeci">void data_sync_barrier(void)</div><div class="ttdoc">calls the data synchronization barrier instruction </div><div class="ttdef"><b>Definition:</b> <a href="cpu_8c_source.html#l00201">cpu.c:201</a></div></div>
<div class="ttc" id="structsw__sem__t_html_a1586e3c6a4030dcf5e75a4a53c4576ff"><div class="ttname"><a href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">sw_sem_t::counter_param</a></div><div class="ttdeci">volatile u32 counter_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00163">sw_semaphores.h:163</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00036">sw_semaphores.h:36</a></div></div>
<div class="ttc" id="structsw__sem__t_html_aaea7607e4429b4c085c76561fb2e0b62"><div class="ttname"><a href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">sw_sem_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00162">sw_semaphores.h:162</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_acc6f251f28afebcb1f64419df7c92d40"><div class="ttname"><a href="sw__semaphores_8h.html#acc6f251f28afebcb1f64419df7c92d40">sw_sem_post_s</a></div><div class="ttdeci">void sw_sem_post_s(volatile s32int *data)</div></div>
<div class="ttc" id="sw__types_8h_html_aaf39421af243da7dea06fce58a8213b8"><div class="ttname"><a href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a></div><div class="ttdeci">signed int s32int</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00068">sw_types.h:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8dc191367c06f2cff2957f3a69102514"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> sw_sem_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsw__sem__t.html">sw_sem_t</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Locks the semaphore referenced by sem It will return to the calling thread only after locking the semaphore or if the call is interrupted by a signal. </p>
<p>This function locks the semaphore referenced by the sem value. An atomic decrement is performed. If the counters become negative, sem_init is blocked, till another thread invokes sw_sem_post.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="sw__semaphores_8c_source.html#l00202">202</a> of file <a class="el" href="sw__semaphores_8c_source.html">sw_semaphores.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span>((sem == <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (sem-&gt;<a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a> == <a class="code" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="sw__semaphores_8h.html#a2dc30f6de9580ebd60b9f072627de8f7">sw_sem_wait_s</a>((<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a>*)&amp;(sem-&gt;<a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a>));</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">/*OTZ_READ_MEMORY_BARRIER</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">    __memory_changed();*/</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="cpu_8c.html#a485c01a85ecf4219772d9df0db2c86a9">data_memory_barrier</a>();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="ttc" id="structsw__sem__t_html_a1586e3c6a4030dcf5e75a4a53c4576ff"><div class="ttname"><a href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">sw_sem_t::counter_param</a></div><div class="ttdeci">volatile u32 counter_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00163">sw_semaphores.h:163</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aad472a601abac5aab18d6afddeab7de5"><div class="ttname"><a href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">OTZ_OK</a></div><div class="ttdeci">#define OTZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00038">sw_semaphores.h:38</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a2dc30f6de9580ebd60b9f072627de8f7"><div class="ttname"><a href="sw__semaphores_8h.html#a2dc30f6de9580ebd60b9f072627de8f7">sw_sem_wait_s</a></div><div class="ttdeci">void sw_sem_wait_s(volatile s32int *data)</div></div>
<div class="ttc" id="sw__semaphores_8h_html_ad644b8be68ed8327689bae20c2142c80"><div class="ttname"><a href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">OTZ_INVALID</a></div><div class="ttdeci">#define OTZ_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00039">sw_semaphores.h:39</a></div></div>
<div class="ttc" id="cpu_8c_html_a485c01a85ecf4219772d9df0db2c86a9"><div class="ttname"><a href="cpu_8c.html#a485c01a85ecf4219772d9df0db2c86a9">data_memory_barrier</a></div><div class="ttdeci">void data_memory_barrier(void)</div><div class="ttdoc">calls the data memory barrier instruction </div><div class="ttdef"><b>Definition:</b> <a href="cpu_8c_source.html#l00193">cpu.c:193</a></div></div>
<div class="ttc" id="sw__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00039">sw_types.h:39</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00036">sw_semaphores.h:36</a></div></div>
<div class="ttc" id="structsw__sem__t_html_aaea7607e4429b4c085c76561fb2e0b62"><div class="ttname"><a href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">sw_sem_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00162">sw_semaphores.h:162</a></div></div>
<div class="ttc" id="sw__types_8h_html_aaf39421af243da7dea06fce58a8213b8"><div class="ttname"><a href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a></div><div class="ttdeci">signed int s32int</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00068">sw_types.h:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat May 3 2014 13:35:45 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
