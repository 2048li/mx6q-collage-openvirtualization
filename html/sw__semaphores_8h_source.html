<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>sw_semaphores.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6aeebb853ebd8c514e6186653c592c82.html">otzone</a></li><li class="navelem"><a class="el" href="dir_fb44076c8b62c63869cf8a830933e50d.html">src</a></li><li class="navelem"><a class="el" href="dir_2d945ebfca6299adda500e2943a81344.html">lib</a></li><li class="navelem"><a class="el" href="dir_f7e25160e3c6d422df754957b4d9084d.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">sw_semaphores.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="sw__semaphores_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* </span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * OpenVirtualization: </span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * For additional details and support contact developer@sierraware.com.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Additional documentation can be found at www.openvirtualization.org</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (C) 2011 SierraWare</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU General Public License</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * as published by the Free Software Foundation; either version 2</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * Header for semaphore implementation functions</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#ifndef SW_SEMAPHORES_H</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define SW_SEMAPHORES_H</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="sw__types_8h.html">sw_types.h</a>&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="cpu_8h.html">cpu.h</a>&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#a49b7b563fc38af00656e0f2f89d2ce56">   32</a></span>&#160;<span class="preprocessor">#define OTZ_LOCKED 1 </span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#abf435ec0b9f3b6e7ae76d9079bfe6084">   33</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define OTZ_FREE   0</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">   35</a></span>&#160;<span class="preprocessor">#define TRUE   1</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#aa93f0eb578d23995850d61f7d61c55c1">   36</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define FALSE  0</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#aad472a601abac5aab18d6afddeab7de5">   38</a></span>&#160;<span class="preprocessor">#define OTZ_OK 0</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#ad644b8be68ed8327689bae20c2142c80">   39</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define OTZ_INVALID 1</span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#a3fd16a0b061bbb0bcbf50ad714050142">   40</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define OTZ_BUSY 2</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#af03c34c007b8ddc089778f767c76b4c4">   41</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define OTZ_AGAIN 3</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#a3e2192a82f8890c9fc1c37866a6973bb">   43</a></span>&#160;<span class="preprocessor">#define INIT_SPIN_LOCK(s) ((s)-&gt;lock = 0)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="sw__semaphores_8h.html#ab5028dc54dc18cb7c6e5ac85a5542403">sw_spinlock_s</a>(<span class="keywordtype">void</span> *<a class="code" href="fat32_8c.html#a40767ad71451f60885c01f28dd2a4b47">data</a>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="sw__semaphores_8h.html#a6aac81e6777501983ca3af1d7230db1b">sw_spinunlock_s</a>(<span class="keywordtype">void</span> *<a class="code" href="fat32_8c.html#a40767ad71451f60885c01f28dd2a4b47">data</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="sw__semaphores_8h.html#acc6f251f28afebcb1f64419df7c92d40">sw_sem_post_s</a>(<span class="keyword">volatile</span> <a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *<a class="code" href="fat32_8c.html#a40767ad71451f60885c01f28dd2a4b47">data</a>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="sw__semaphores_8h.html#a2dc30f6de9580ebd60b9f072627de8f7">sw_sem_wait_s</a>(<span class="keyword">volatile</span> <a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *<a class="code" href="fat32_8c.html#a40767ad71451f60885c01f28dd2a4b47">data</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">extern</span> <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="sw__semaphores_8h.html#a88092c3fcb2539f67d3a376da0f6008a">sw_trylock_s</a>(<span class="keywordtype">void</span> *<a class="code" href="fat32_8c.html#a40767ad71451f60885c01f28dd2a4b47">data</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structsw__mutex__t.html">   85</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">   86</a></span>&#160;    <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">init_param</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">   87</a></span>&#160;    <span class="keyword">volatile</span> <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">lock_param</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;} <a class="code" href="structsw__mutex__t.html">sw_mutex_t</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#a8a35199e078df55bf4b3d055d6814139">   90</a></span>&#160;<span class="preprocessor">#define OTZ_MUTEX_INIT {TRUE, OTZ_FREE}</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">/* this implementation does not support attributes. This has been kept for</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"> * consistency with pthread programming models. */</span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="sw__semaphores_8h.html#a2244ed712da6ca027f76cb840045e5e4">   94</a></span>&#160;<span class="preprocessor">#define sw_mutexattr_t void</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#a04367a7c0265aaf39c91f5490d227118">sw_mutex_init</a>(<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex, <span class="keyword">const</span> <a class="code" href="sw__semaphores_8h.html#a2244ed712da6ca027f76cb840045e5e4">sw_mutexattr_t</a> *attribute);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#a479d153ccca1ece612debff0558eba9e">sw_mutex_destroy</a>(<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#ac3c805367bdb75f13ac44f080f72e66e">sw_mutex_lock</a>(<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#af4b5c19a5ccbbdbe4eed5e7520c5cb84">sw_mutex_unlock</a>(<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#af9f84b60f4d379ab88cc1091a63cf2ae">sw_mutex_trylock</a>(<a class="code" href="structsw__mutex__t.html">sw_mutex_t</a> *mutex);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structsw__sem__t.html">  161</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">  162</a></span>&#160;    <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">init_param</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">  163</a></span>&#160;    <span class="keyword">volatile</span> <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">counter_param</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;} <a class="code" href="structsw__sem__t.html">sw_sem_t</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#a39487bfce93fff0c3557bb104ef9f7ef">sw_sem_init</a>(<a class="code" href="structsw__sem__t.html">sw_sem_t</a> *sem, <a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> shared, <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> value);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#a8dc191367c06f2cff2957f3a69102514">sw_sem_wait</a>(<a class="code" href="structsw__sem__t.html">sw_sem_t</a> *sem);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#aa074bb6e5b06c3ff897483709ec2b787">sw_sem_post</a>(<a class="code" href="structsw__sem__t.html">sw_sem_t</a> *sem);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#a667bf1dc62225b5affc82815da70adc6">sw_sem_destroy</a>(<a class="code" href="structsw__sem__t.html">sw_sem_t</a> *sem);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> <a class="code" href="sw__semaphores_8h.html#a1c76bedb76df6742a511442f9da97f30">sw_sem_getvalue</a>(<a class="code" href="structsw__sem__t.html">sw_sem_t</a> *sem, <a class="code" href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a> *value);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structspinlock.html">  234</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structspinlock.html">spinlock</a>{</div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structspinlock.html#a12459ce126a1265c107a74dbb776a6f9">  235</a></span>&#160;        <a class="code" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> <a class="code" href="structspinlock.html#a12459ce126a1265c107a74dbb776a6f9">lock</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;};</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> spin_lock_irqsave(<span class="keyword">struct</span> <a class="code" href="structspinlock.html">spinlock</a>* slock, </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                                <a class="code" href="sw__types_8h.html#a426fa6e7d1eaa7c84e108835da641869">irq_flags_t</a>* irq_flags)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    *irq_flags = <a class="code" href="cpu_8c.html#a555dd55401d9c2807cf8ba60b55688b8">cpu_irq_save</a>();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="sw__semaphores_8h.html#ab5028dc54dc18cb7c6e5ac85a5542403">sw_spinlock_s</a>(&amp;slock-&gt;<a class="code" href="structspinlock.html#a12459ce126a1265c107a74dbb776a6f9">lock</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> spin_unlock_irqrestore(<span class="keyword">struct</span> <a class="code" href="structspinlock.html">spinlock</a>* slock, </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                                    <a class="code" href="sw__types_8h.html#a426fa6e7d1eaa7c84e108835da641869">irq_flags_t</a> irq_flags)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="sw__semaphores_8h.html#a6aac81e6777501983ca3af1d7230db1b">sw_spinunlock_s</a>(&amp;slock-&gt;<a class="code" href="structspinlock.html#a12459ce126a1265c107a74dbb776a6f9">lock</a>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="cpu_8c.html#a9eb5595e01f9da7548f523defd398c35">cpu_irq_restore</a>(irq_flags);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="preprocessor"></span></div>
<div class="ttc" id="structsw__sem__t_html_a1586e3c6a4030dcf5e75a4a53c4576ff"><div class="ttname"><a href="structsw__sem__t.html#a1586e3c6a4030dcf5e75a4a53c4576ff">sw_sem_t::counter_param</a></div><div class="ttdeci">volatile u32 counter_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00163">sw_semaphores.h:163</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ac3c805367bdb75f13ac44f080f72e66e"><div class="ttname"><a href="sw__semaphores_8h.html#ac3c805367bdb75f13ac44f080f72e66e">sw_mutex_lock</a></div><div class="ttdeci">s32int sw_mutex_lock(sw_mutex_t *mutex)</div><div class="ttdoc">this function locks the mutex object referenced. If the mutex is already locked, it blocks till it be...</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00128">sw_semaphores.c:128</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_ab5028dc54dc18cb7c6e5ac85a5542403"><div class="ttname"><a href="sw__semaphores_8h.html#ab5028dc54dc18cb7c6e5ac85a5542403">sw_spinlock_s</a></div><div class="ttdeci">void sw_spinlock_s(void *data)</div></div>
<div class="ttc" id="sw__semaphores_8h_html_a04367a7c0265aaf39c91f5490d227118"><div class="ttname"><a href="sw__semaphores_8h.html#a04367a7c0265aaf39c91f5490d227118">sw_mutex_init</a></div><div class="ttdeci">s32int sw_mutex_init(sw_mutex_t *mutex, const sw_mutexattr_t *attribute)</div><div class="ttdoc">dymanic initialization of the mutex. The attribute parameter is kept for consistency and is not used...</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00090">sw_semaphores.c:90</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a2dc30f6de9580ebd60b9f072627de8f7"><div class="ttname"><a href="sw__semaphores_8h.html#a2dc30f6de9580ebd60b9f072627de8f7">sw_sem_wait_s</a></div><div class="ttdeci">void sw_sem_wait_s(volatile s32int *data)</div></div>
<div class="ttc" id="structsw__mutex__t_html_a0705f3dd185c7552643d461b8c27da14"><div class="ttname"><a href="structsw__mutex__t.html#a0705f3dd185c7552643d461b8c27da14">sw_mutex_t::lock_param</a></div><div class="ttdeci">volatile u32 lock_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00087">sw_semaphores.h:87</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a1c76bedb76df6742a511442f9da97f30"><div class="ttname"><a href="sw__semaphores_8h.html#a1c76bedb76df6742a511442f9da97f30">sw_sem_getvalue</a></div><div class="ttdeci">s32int sw_sem_getvalue(sw_sem_t *sem, s32int *value)</div><div class="ttdoc">Get the current value of the semaphore. It is copied into the argument supplied by the caller...</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00262">sw_semaphores.c:262</a></div></div>
<div class="ttc" id="structspinlock_html_a12459ce126a1265c107a74dbb776a6f9"><div class="ttname"><a href="structspinlock.html#a12459ce126a1265c107a74dbb776a6f9">spinlock::lock</a></div><div class="ttdeci">u32 lock</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00235">sw_semaphores.h:235</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a39487bfce93fff0c3557bb104ef9f7ef"><div class="ttname"><a href="sw__semaphores_8h.html#a39487bfce93fff0c3557bb104ef9f7ef">sw_sem_init</a></div><div class="ttdeci">s32int sw_sem_init(sw_sem_t *sem, s32int shared, u32 value)</div><div class="ttdoc">This function initializes the semaphore, and sets is counters to the value passed to it...</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00182">sw_semaphores.c:182</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_af4b5c19a5ccbbdbe4eed5e7520c5cb84"><div class="ttname"><a href="sw__semaphores_8h.html#af4b5c19a5ccbbdbe4eed5e7520c5cb84">sw_mutex_unlock</a></div><div class="ttdeci">s32int sw_mutex_unlock(sw_mutex_t *mutex)</div><div class="ttdoc">this function unlocks the mutex object referenced. Attempts to unlock a mutex that is already locked ...</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00145">sw_semaphores.c:145</a></div></div>
<div class="ttc" id="structsw__mutex__t_html"><div class="ttname"><a href="structsw__mutex__t.html">sw_mutex_t</a></div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00085">sw_semaphores.h:85</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a479d153ccca1ece612debff0558eba9e"><div class="ttname"><a href="sw__semaphores_8h.html#a479d153ccca1ece612debff0558eba9e">sw_mutex_destroy</a></div><div class="ttdeci">s32int sw_mutex_destroy(sw_mutex_t *mutex)</div><div class="ttdoc">this function destroys the mutex object. Attempting to destroy a mutex that has already been destroye...</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00109">sw_semaphores.c:109</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a8dc191367c06f2cff2957f3a69102514"><div class="ttname"><a href="sw__semaphores_8h.html#a8dc191367c06f2cff2957f3a69102514">sw_sem_wait</a></div><div class="ttdeci">s32int sw_sem_wait(sw_sem_t *sem)</div><div class="ttdoc">This function locks the semaphore referenced by the sem value. An atomic decrement is performed...</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00202">sw_semaphores.c:202</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a6aac81e6777501983ca3af1d7230db1b"><div class="ttname"><a href="sw__semaphores_8h.html#a6aac81e6777501983ca3af1d7230db1b">sw_spinunlock_s</a></div><div class="ttdeci">void sw_spinunlock_s(void *data)</div></div>
<div class="ttc" id="fat32_8c_html_a40767ad71451f60885c01f28dd2a4b47"><div class="ttname"><a href="fat32_8c.html#a40767ad71451f60885c01f28dd2a4b47">data</a></div><div class="ttdeci">u8 * data</div><div class="ttdef"><b>Definition:</b> <a href="fat32_8c_source.html#l00038">fat32.c:38</a></div></div>
<div class="ttc" id="sw__types_8h_html"><div class="ttname"><a href="sw__types_8h.html">sw_types.h</a></div></div>
<div class="ttc" id="cpu_8c_html_a9eb5595e01f9da7548f523defd398c35"><div class="ttname"><a href="cpu_8c.html#a9eb5595e01f9da7548f523defd398c35">cpu_irq_restore</a></div><div class="ttdeci">void cpu_irq_restore(irq_flags_t flags)</div><div class="ttdoc">restores the interrupt request </div><div class="ttdef"><b>Definition:</b> <a href="cpu_8c_source.html#l00137">cpu.c:137</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_aa074bb6e5b06c3ff897483709ec2b787"><div class="ttname"><a href="sw__semaphores_8h.html#aa074bb6e5b06c3ff897483709ec2b787">sw_sem_post</a></div><div class="ttdeci">s32int sw_sem_post(sw_sem_t *sem)</div><div class="ttdoc">This function unlocks the semaphore referenced by sem. The value is incremented atomically. If there are any threads waiting on this semaphore, only one of them would be released from sem_wait. </div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00222">sw_semaphores.c:222</a></div></div>
<div class="ttc" id="structsw__mutex__t_html_a6c0e563741b69e50f8cd2003597f0259"><div class="ttname"><a href="structsw__mutex__t.html#a6c0e563741b69e50f8cd2003597f0259">sw_mutex_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00086">sw_semaphores.h:86</a></div></div>
<div class="ttc" id="cpu_8h_html"><div class="ttname"><a href="cpu_8h.html">cpu.h</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a667bf1dc62225b5affc82815da70adc6"><div class="ttname"><a href="sw__semaphores_8h.html#a667bf1dc62225b5affc82815da70adc6">sw_sem_destroy</a></div><div class="ttdeci">s32int sw_sem_destroy(sw_sem_t *sem)</div><div class="ttdoc">Delete the semaphore pointed to by sem variable The semaphore cannot be used after deletion...</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00241">sw_semaphores.c:241</a></div></div>
<div class="ttc" id="cpu_8c_html_a555dd55401d9c2807cf8ba60b55688b8"><div class="ttname"><a href="cpu_8c.html#a555dd55401d9c2807cf8ba60b55688b8">cpu_irq_save</a></div><div class="ttdeci">irq_flags_t cpu_irq_save(void)</div><div class="ttdoc">saves interrupt request </div><div class="ttdef"><b>Definition:</b> <a href="cpu_8c_source.html#l00118">cpu.c:118</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a2244ed712da6ca027f76cb840045e5e4"><div class="ttname"><a href="sw__semaphores_8h.html#a2244ed712da6ca027f76cb840045e5e4">sw_mutexattr_t</a></div><div class="ttdeci">#define sw_mutexattr_t</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00094">sw_semaphores.h:94</a></div></div>
<div class="ttc" id="structsw__sem__t_html"><div class="ttname"><a href="structsw__sem__t.html">sw_sem_t</a></div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00161">sw_semaphores.h:161</a></div></div>
<div class="ttc" id="sw__types_8h_html_a426fa6e7d1eaa7c84e108835da641869"><div class="ttname"><a href="sw__types_8h.html#a426fa6e7d1eaa7c84e108835da641869">irq_flags_t</a></div><div class="ttdeci">unsigned int irq_flags_t</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00085">sw_types.h:85</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_af9f84b60f4d379ab88cc1091a63cf2ae"><div class="ttname"><a href="sw__semaphores_8h.html#af9f84b60f4d379ab88cc1091a63cf2ae">sw_mutex_trylock</a></div><div class="ttdeci">s32int sw_mutex_trylock(sw_mutex_t *mutex)</div><div class="ttdoc">Try to lock the mutex. This function is same as the lock function, except that it returns if the mute...</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8c_source.html#l00161">sw_semaphores.c:161</a></div></div>
<div class="ttc" id="sw__types_8h_html_a10e94b422ef0c20dcdec20d31a1f5049"><div class="ttname"><a href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a></div><div class="ttdeci">unsigned int u32</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00061">sw_types.h:61</a></div></div>
<div class="ttc" id="structsw__sem__t_html_aaea7607e4429b4c085c76561fb2e0b62"><div class="ttname"><a href="structsw__sem__t.html#aaea7607e4429b4c085c76561fb2e0b62">sw_sem_t::init_param</a></div><div class="ttdeci">u32 init_param</div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00162">sw_semaphores.h:162</a></div></div>
<div class="ttc" id="structspinlock_html"><div class="ttname"><a href="structspinlock.html">spinlock</a></div><div class="ttdef"><b>Definition:</b> <a href="sw__semaphores_8h_source.html#l00234">sw_semaphores.h:234</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_acc6f251f28afebcb1f64419df7c92d40"><div class="ttname"><a href="sw__semaphores_8h.html#acc6f251f28afebcb1f64419df7c92d40">sw_sem_post_s</a></div><div class="ttdeci">void sw_sem_post_s(volatile s32int *data)</div></div>
<div class="ttc" id="sw__types_8h_html_aaf39421af243da7dea06fce58a8213b8"><div class="ttname"><a href="sw__types_8h.html#aaf39421af243da7dea06fce58a8213b8">s32int</a></div><div class="ttdeci">signed int s32int</div><div class="ttdef"><b>Definition:</b> <a href="sw__types_8h_source.html#l00068">sw_types.h:68</a></div></div>
<div class="ttc" id="sw__semaphores_8h_html_a88092c3fcb2539f67d3a376da0f6008a"><div class="ttname"><a href="sw__semaphores_8h.html#a88092c3fcb2539f67d3a376da0f6008a">sw_trylock_s</a></div><div class="ttdeci">u32 sw_trylock_s(void *data)</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat May 3 2014 13:35:44 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
